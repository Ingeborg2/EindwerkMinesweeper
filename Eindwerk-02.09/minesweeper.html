<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" type="text/css" href="css/minesweeper.css">

    <!-- <script src="https://code.jquery.com/jquery-3.2.1.js" integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=" crossorigin="anonymous"></script> -->
    <script src="jquery-3.2.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.min.js"></script>
    <script src="javascript/minesweeper-controller.js"></script>
    <script src="javascript/minesweeper-model.js"></script>
    <script src="javascript/minesweeper-timer.js"></script>

    </style>

    <title>Minesweeper</title>
</head>
<<<<<<< HEAD <!-- ////////////////////////////////////////CLOCK//////////////////////////////////////////////-->
    <div id="clock"></div>

    <!-- //////////////////////////////////////////FORM////////////////////////////////////////////////-->
    =======
    <!-- ////////////////////////////////////////MINESWEEPER///////////////////////////////////////-->

    <body>
        <table>
            <tbody id="tableBody">

            </tbody>
        </table>
        <!-- ////////////////////////////////////////CLOCK//////////////////////////////////////////////-->
        <div id="clock"></div>

        <!-- //////////////////////////////////////////FORM////////////////////////////////////////////////-->
        >>>>>>> 0c493b6278bf77e8647f8f17f8b42733cc70ad0a

        <form method="POST" action="http://127.0.0.1:8081/spelers" id="frm">
            <input type="button" id="btn_pause" value="PAUSE">
            <input type="button" id="btn_restart" value="RESTART">
            <br>
            <br>
            <label for="naamSpeler">Naam speler: </label>
            <input type="text" name="name" id="naamSpeler" minlength=1 required/>
            <br>
            <br>
            <label for="numberOfCols">Aantal kolommen: </label>
            <input type="number" name="cols" id="numberOfCols" required/>
            <label for="numberOfRows">Aantal rijen: </label>
            <input type="number" name="rows" id="numberOfRows" required/>
            <label for="numberOfMines">Aantal mijnen:</label>
            <input type="number" name="mines" id="numberOfMines" required/>
            <input type="hidden" name="time" id="time" value=0>
            <input type="button" id="btn_startGame" value='START SPEL'>
            <!-- <input type="submit" id="btn2" value="Submit score" onclick="timeOnGameStop()"> -->
        </form>
        <br>
        <br>

        <!-- ////////////////////////////////////////MINESWEEPER///////////////////////////////////////-->

        <body>
            <table>
                <tbody id="tableBody">

                </tbody>
            </table>

            <!-- //////////////////////////////////////////TOPSPELERS////////////////////////////////////////////////-->

            <table id="topspeler" style="display: none">
                <tr>
                    <td>Name : </td>
                    <td>columns : </td>
                    <td>Rows : </td>
                    <td>Time : </td>

                    <td>Mines : </td>

                </tr>
            </table>
            <input type="button" id="btn" value="topspelers">

            <!-- //////////////////////////////////////////FORM////////////////////////////////////////////////-->

            <script>
                ////////////////////////////////////// POST EN GET OP SERVER///////////////////////////////////////
                $('#topspeler').hide()


                $('#btn').click(function() {
                    var name = $('#naamSpeler').val();
                    var rows = parseInt($('#numberOfRows').val());
                    var cols = parseInt($('#numberOfCols').val());
                    var mines = parseInt($('#numberOfMines').val());
                    var querystring = "?"

                    if (name != "") {
                        querystring += 'name=' + name
                    }


                    $('#topspeler').show()
                    if ($('.listitem')) {
                        $('.listitem').remove()

                    }
                    $.ajax({
                        // publieke open dataset opvragen
                        url: "http://127.0.0.1:8081/spelers",
                        dataType: "json", //parse returned JSON
                        crossDomain: true,
                        success: function(json) {
                            $.each(json, function(k, v) {
                                $("#topspeler").append($('<tr>').attr('class', 'listitem').html("<td>" + v.name + "</td> <td>" + v.rows + "</td><td>" + v.cols + "</td><td>" + v.time + "</td>"))
                            })
                            if (querystring == "?") {
                                querystring = ""
                            }
                            $.ajax({
                                // publieke open dataset opvragen
                                url: "http://127.0.0.1:8081/spelers" + querystring,
                                dataType: "json", //parse returned JSON
                                crossDomain: true,
                                success: function(json) {
                                    if (querystring == "") {
                                        $.each(json, function(k, v) {
                                            $("#topspeler").append($('<tr>').attr('class', 'listitem').html("<td>" + v.name + "</td> <td>" + v.rows + "</td><td>" + v.cols + "</td><td>" + v.time + "</td><td>" + v.mines + "</td>"))

                                        });
                                    }
                                },

                                error: function(XMLHttpRequest, textStatus, errorThrown) {
                                    console.log("Status: " + textStatus);
                                    console.log("Error: " + errorThrown);

                                }
                            })
                        }
                    })
                })
            </script>
        </body>

</html>